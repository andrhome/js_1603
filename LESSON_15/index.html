<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Weather</title>
</head>
<body>
	<script>
		window.addEventListener('DOMContentLoaded', function() {

			function Weather() {
				var xhr = new XMLHttpRequest();
				var self = this;

				xhr.open('GET', 'https://query.yahooapis.com/v1/public/yql?q=select%20item%20from%20weather.forecast%20where%20woeid%3D918233%20and%20u%3D%22c%22&format=json&l=ru', true);

				xhr.onreadystatechange = function() {
					if(xhr.status == 200 && xhr.readyState == 4) {

						var xhrObj = JSON.parse(xhr.responseText);
						this.getProp = function(obj, callback) {
			                for(var key in obj) {

			                    if(key == 'lat') {
			                        callback(obj[key]);
			                    };

			                    if(typeof obj[key] == 'object') {
			                        this.getProp(obj[key], callback);
			                    };
			                };
			            };
						this.getProp(xhrObj, function(val) {
			                alert('Значение свойства lat = ' + val);
			            });

			            self.constructorNodes();
					};
				};

				xhr.send();
			};

			Weather.prototype.constructorNodes = function() {
				var html = '<div class="drop-weather-button">' +
				              '<div class="outer-today-ico">' +
				                  '<span class="icons-for-c-min icon-weather-min-(!!!!цифра-ждя картинки!!!!) "></span>' +
				                  '<i class="today-weather">' + (!!!!Погода сейчас!!!!) + 'С°</i>' +
				              '</div>' +
				              '<div class="drop-wether">' +
				                  '<p class="for-genwether"><span class="title-weather">Погода</span><span class="city-weather">Украина, Чернигов</span></p>' +
				                  '<div class="section-today">' +
				                '<div class="for-weather-icon">' +
				                  '<h5 class="section-heading">Сьогодні</h5>' +
				                  '<span class="icons-for-c icon-weather-' + (!!!!цифра-ждя картинки!!!!) + '"></span>' +
				                '</div>' +
				              '<div class="weather-detail">' +
				                  '<h4 class="weather-heading">' +
				                      '<span class="temp-now">' + (!!!!Погода сейчас!!!!) + 'С°</span>' +
				                      '<span class="phrase">Температура зараз</span>' +
				                  '</h4>' +
				                  '<span class="temperature high-temperature">' + (!!!!Максимальная температура!!!!) + 'С°</span>' +
				                  '&nbsp;' - '&nbsp;' +
				                  '<span class="temperature low-temperature">' + (!!!!Минимальная температура!!!!) + 'С°</span>' +
				                  '<p class="summary">' + (!!!!Описание погодных условий!!!!) + '</p>' +
				              '</div>' +
				                  '</div>' +
				                  '<div class="section-this-week">' +
				                      '<h5 class="section-heading">Тиждень</h5>' +
				                      '<ul class="item-list-temperature">' +
				                          (!!!! Структура блоков для погоды на 4 дня вперед (пункт 3)!!!!) +
				                      '</ul>' +
				                  '</div>' +
				              '</div>' +
				          '</div>';

				document.body.insertAdjacentHTML('afterBegin', html);
			};

			var weather = new Weather();
		});
	</script>
</body>
</html>